var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},i=t.parcelRequiref577;null==i&&((i=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,i.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},t.parcelRequiref577=i);var a=i("ys5lY"),o=i("1TtgT"),r=i("8NWI1");i("cFMKy");const s=document.querySelector(".gallery"),l=document.querySelector(".backdrop"),c=(document.querySelector(".modal"),document.querySelector(".modal-btn"));function d(t){"Escape"===t.key&&p()}function u(t){"modal-btn"!==t.currentTarget.classList.value&&"backdrop"!==t.target.classList.value||p()}function p(){l.classList.toggle("is-hidden"),document.removeEventListener("keydown",d),l.removeEventListener("click",u);document.querySelector(".wrapper").remove()}s.addEventListener("click",(function(t){if(t.preventDefault(),document.addEventListener("keydown",d),l.addEventListener("click",u),c.addEventListener("click",u),"IMG"===t.target.nodeName){!async function(t){l.classList.remove("is-hidden");const e=await(0,o.getMovie)(t);(0,a.modalCardRender)(e.data),(0,r.addListenerByBtns)(e)}(t.target.dataset.id)}}));const f=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function h(t,e){let n=[];return t.map((t=>{for(const e of f)t===e.id&&n.push(e.name)})),n.length>2&&n.splice(2,5,"Other"),n.join(", ")}function g(t){const{results:e}=t;return e.map((({poster_path:t,title:e,release_date:n,id:i,genre_ids:a})=>{let o=h(a);return""===o&&(o="unknown"),""===n&&(n="none"),`<li class="movie-card">\n      <img src="https://image.tmdb.org/t/p/w500${t}" alt="${e}" class="movie-card-img" data-id="${i}" loading="lazy"/>\n      <div class="movie-info">\n      <p class="movie-title">${e}</p>\n      <p class="film-cards__title movie-genres">${o} | ${n.slice(0,4)}</p> \n      </div>\n    </li>`})).join("")}function m(t,e){e.innerHTML=g(t)}var v=i("2shzp").default;async function y(t,e){const n=`&query=${t}&page=${e}&language=en-US`;return await v.get(`https://api.themoviedb.org/3/search/movie?api_key=341a3443d9168179889e844c5b12f774${n}`).then((t=>t.data))}async function b(t){const e=`&page=${t}`;return await v.get(`https://api.themoviedb.org/3/trending/movie/week?api_key=341a3443d9168179889e844c5b12f774${e}`).then((t=>t.data))}var _,k=i("gjiCh");_=function(t){var e=function(n,i){this.$target=n,this.options=t.extend({},e.DEFAULTS,this.$target.data("pagination"),"object"==typeof i&&i),this.init()};e.VERSION="1.4.0",e.DEFAULTS={total:1,current:1,length:10,size:2,prev:"&lt;",next:"&gt;",click:function(t){}},e.prototype={init:function(){if(this.options.total<1&&(this.options.total=1),this.options.current<1&&(this.options.current=1),this.options.length<1&&(this.options.length=1),this.options.current>Math.ceil(this.options.total/this.options.length)&&(this.options.current=Math.ceil(this.options.total/this.options.length)),this.options.size<1&&(this.options.size=1),"function"==typeof this.options.ajax){var t=this;this.options.ajax({current:t.options.current,length:t.options.length,total:t.options.total},(function(e){return t.refresh(e)}),t.$target)}else this.render();this.onClick()},render:function(){var t=this.options,e=this.$target;e.empty(),e.append('<li class="pagination_item pagination_bullet"><a herf="javascript:void(0)" data-page="prev" class="pagination_bullet_link">'+t.prev+"</a></li>");var n=this.getPages();n.start>1&&(e.append('<li class="pagination_item"><a herf="javascript:void(0)" class="pagination_link" data-page="1">1</a></li>'),e.append('<li class="pagination_item"><span class="pagination_span">...</span></li>'));for(var i=n.start;i<=n.end;i++)e.append('<li class="pagination_item"><a herf="javascript:void(0)" class="pagination_link" data-page="'+i+'">'+i+"</a></li>");n.end<Math.ceil(t.total/t.length)&&(e.append('<li class="pagination_item"><span class="pagination_span">...</span></li>'),e.append('<li class="pagination_item"><a herf="javascript:void(0)" class="pagination_link" data-page="'+Math.ceil(t.total/t.length)+'">'+Math.ceil(t.total/t.length)+"</a></li>")),e.append('<li class="pagination_item pagination_bullet"><a herf="javascript:void(0)" data-page="next" class="pagination_bullet_link">'+t.next+"</a></li>"),e.find('li>a[data-page="'+t.current+'"]').parent().addClass("active"),t.current<=1&&e.find('li>a[data-page="prev"]').parent().addClass("disabled"),t.current>=Math.ceil(t.total/t.length)&&e.find('li>a[data-page="next"]').parent().addClass("disabled")},getPages:function(){this.$target;var t=this.options,e=t.current-t.size,n=t.current+t.size;return t.current>=Math.ceil(t.total/t.length)-t.size&&(e-=t.current-Math.ceil(t.total/t.length)+t.size),t.current<=t.size&&(n+=t.size-t.current+1),e<1&&(e=1),n>Math.ceil(t.total/t.length)&&(n=Math.ceil(t.total/t.length)),{start:e,end:n}},onClick:function(){var e=this.$target,n=this.options,i=this;e.off("click"),e.on("click",">li>a[data-page]",(function(a){if(!t(this).parent().hasClass("disabled")&&!t(this).parent().hasClass("active")){var o=t(this).data("page");switch(o){case"prev":n.current>1&&n.current--;break;case"next":n.current<Math.ceil(n.total)&&n.current++;break;default:o=parseInt(o),isNaN(o)||(n.current=parseInt(o))}var r={current:n.current,length:n.length,total:n.total};"function"==typeof n.ajax?n.ajax(r,(function(t){return i.refresh(t)}),e):i.render(),n.click(r,e)}}))},refresh:function(t){"object"==typeof t&&(t.total&&(this.options.total=t.total),t.length&&(this.options.length=t.length)),this.render()}},t.fn.pagination=function(n){return this.each((function(){t(this).data("pagination",new e(t(this),n))})),this}},"function"==typeof define&&define.amd?define(["jquery"],_):"function"==typeof define&&define.cmd?define((function(t,e,n){_(t("jquery"))})):_(jQuery);const w=document.querySelector(".gallery");let L=1,j=null;(0,k.loaderShow)(),async function t(){w.innerHTML="";try{const t=await b(L);j=t.total_results,m(t,w)}catch(t){console.log(t)}$("#pagination").pagination({total:j,current:L,length:20,size:2,prev:"&lt",next:"&gt",click:function(e){L=e.current,(0,k.loaderShow)(),t(),setTimeout(k.loaderHide,250)}})}(),setTimeout((0,k.loaderHide)(),250);k=i("gjiCh");const x=document.querySelector("form"),S=document.querySelector(".gallery"),T=document.querySelector(".form__text");let E=1,M=null,q="";async function C(t){try{const e=await y(t,E);if(M=e.total_results,0===e.results.length)return T.classList.remove("hidden"),void setTimeout((()=>{T.classList.add("hidden")}),3e3);m(e,S)}catch(t){console.log(t)}$("#pagination").pagination({total:M,current:E,length:20,size:2,prev:"&lt",next:"&gt",click:async function(t){E=t.current,await C(q)}})}x.addEventListener("submit",(async function(t){if(t.preventDefault(),E=1,q=t.target.elements.input.value.trim(),console.log(q),!q)return T.classList.remove("hidden"),void setTimeout((()=>{T.classList.add("hidden")}),3e3);(0,k.loaderShow)(),C(q),setTimeout(k.loaderHide,250)})),i("8NWI1"),i("gjiCh");var z={},O=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,D=/^0b[01]+$/i,F=/^0o[0-7]+$/i,H=parseInt,I="object"==typeof t&&t&&t.Object===Object&&t,W="object"==typeof self&&self&&self.Object===Object&&self,A=I||W||Function("return this")(),R=Object.prototype.toString,U=Math.max,Y=Math.min,B=function(){return A.Date.now()};function P(t,e,n){var i,a,o,r,s,l,c=0,d=!1,u=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=i,o=a;return i=a=void 0,c=e,r=t.apply(o,n)}function h(t){return c=t,s=setTimeout(m,e),d?f(t):r}function g(t){var n=t-l;return void 0===l||n>=e||n<0||u&&t-c>=o}function m(){var t=B();if(g(t))return v(t);s=setTimeout(m,function(t){var n=e-(t-l);return u?Y(n,o-(t-c)):n}(t))}function v(t){return s=void 0,p&&i?f(t):(i=a=void 0,r)}function y(){var t=B(),n=g(t);if(i=arguments,a=this,l=t,n){if(void 0===s)return h(l);if(u)return s=setTimeout(m,e),f(l)}return void 0===s&&(s=setTimeout(m,e)),r}return e=G(e)||0,V(n)&&(d=!!n.leading,o=(u="maxWait"in n)?U(G(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=a=s=void 0},y.flush=function(){return void 0===s?r:v(B())},y}function V(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function G(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==R.call(t)}(t))return NaN;if(V(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=V(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(O,"");var n=D.test(t);return n||F.test(t)?H(t.slice(2),n?2:8):N.test(t)?NaN:+t}z=function(t,e,n){var i=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return V(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),P(t,e,{leading:i,maxWait:e,trailing:a})};const K=document.querySelector(".button-back");function Q(t){window.scrollTo({top:0,left:0,behavior:"smooth"})}document.addEventListener("scroll",z((function(t){window.scrollY>=700?(K.classList.remove("hidden"),K.addEventListener("click",Q)):window.scrollY<=700&&(K.classList.add("hidden"),K.removeEventListener("click",Q))}),400)),i("91Ywk"),i("bO1YF");const J=document.querySelector(".header__theme-btn"),X=document.querySelector(".body"),Z=document.querySelector(".footer"),tt=document.querySelector(".footer-text"),et=document.querySelector(".footer-link");J.addEventListener("click",(function(){X.classList.toggle("dark-theme"),Z.classList.toggle("footer__dark"),tt.classList.toggle("footer-text__dark"),et.classList.toggle("footer-link__dark");document.querySelectorAll(".pagination_span").forEach((t=>t.classList.toggle("footer-text__dark")))}));
//# sourceMappingURL=index.918ae04a.js.map
